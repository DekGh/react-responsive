{"version":3,"file":"index.esm.mjs","sources":["../src/index.ts"],"sourcesContent":["import {useEffect, useState, ReactNode} from \"react\";\r\n\r\nconst keySwitcher = {\r\n    maxWidth: (maxWidth: number) => `(max-width: ${maxWidth}px)`,\r\n    minWidth: (minWidth: number) => `(min-width: ${minWidth}px)`,\r\n    minResolution: (minResolution: string | number) => typeof minResolution === 'string' ? `(min-resolution: ${minResolution})` : `(min-resolution: ${minResolution}dppx)`,\r\n    maxResolution: (maxResolution: number) => `(min-resolution: ${maxResolution})`,\r\n    minHeight: (minHeight: number) => `(min-height: ${minHeight}px)`,\r\n    maxHeight: (maxHeight: number) => `(max-height: ${maxHeight}px)`,\r\n    orientation: (orientation: number) => `(orientation: ${orientation})`\r\n};\r\n\r\ntype Props = {\r\n    children: ReactNode | Function,\r\n    setting: object\r\n}\r\n\r\nconst MediaQuery = ({children, ...setting}: Props) => {\r\n\r\n    const getKey = Object.keys(setting)[0]\r\n    const getValue = Object.values(setting)[0]\r\n\r\n    const isInfo = keySwitcher[getKey as keyof typeof keySwitcher](getValue);\r\n\r\n    const matches = useMediaQuery({query: isInfo})\r\n\r\n    return typeof children === 'function' ? children(matches) : matches ? children : null\r\n}\r\nexport default MediaQuery\r\n\r\n\r\nexport const useMediaQuery = (media: {query: string}) => {\r\n\r\n    let mql = window.matchMedia(media.query)\r\n\r\n    const [value, setValue] = useState(mql.matches)\r\n\r\n    const screenTest = (e: MediaQueryListEvent): void => {\r\n        if (e.matches) {\r\n            setValue(true)\r\n        }\r\n        else {\r\n            setValue(false)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        mql.addEventListener('change', screenTest)\r\n        return () => mql.removeEventListener('change', screenTest)\r\n    }, [])\r\n\r\n    return value\r\n}"],"names":["keySwitcher","maxWidth","minWidth","minResolution","maxResolution","minHeight","maxHeight","orientation","MediaQuery","_ref","children","setting","_objectWithoutPropertiesLoose","_excluded","getKey","Object","keys","getValue","values","isInfo","useMediaQuery","query","matches","media","mql","window","matchMedia","_useState","useState","value","setValue","screenTest","e","useEffect","addEventListener","removeEventListener"],"mappings":"mEAEiBA,EAAG,CAChBC,SAAU,SAACA,GAAD,MAAA,eAAqCA,EAArC,KAAA,EACVC,SAAU,SAACA,GAAD,MAAA,eAAqCA,EAArC,KAAA,EACVC,cAAe,SAACA,GAAD,MAA6D,iBAAlBA,EAAiDA,oBAAAA,EAAuCA,IAAAA,oBAAAA,EAAnI,OAAA,EACfC,cAAe,SAACA,GAAD,MAAA,oBAA+CA,EAA/C,GAAA,EACfC,UAAW,SAACA,GAAD,MAAA,gBAAuCA,EAAvC,KAAA,EACXC,UAAW,SAACA,GAAsCA,MAAAA,gBAAAA,EANlC,KAAA,EAOhBC,YAAa,SAACA,GAAyCA,MAAAA,iBAAAA,EAPvC,GAAA,GAeJC,EAAG,SAAkCC,GAAA,IAAAC,EAAAD,EAAhCC,SAAaC,oIAAmBC,CAAAH,EAAAI,GAE3CC,EAASC,OAAOC,KAAKL,GAAS,GAC9BM,EAAWF,OAAOG,OAAOP,GAAS,GAElCQ,EAASnB,EAAYc,GAAoCG,KAE/CG,EAAc,CAACC,MAAOF,IAEtC,MAA2B,mBAApBT,EAAiCA,EAASY,GAAWA,EAAUZ,EAAW,IACpF,EAIYU,EAAgB,SAACG,GAE1B,IAAOC,EAAGC,OAAOC,WAAWH,EAAMF,OAElCM,EAA0BC,EAASJ,EAAIF,SAAhCO,EAAOC,EAAAA,GAAAA,EAEdH,EAAA,GAAgBI,EAAG,SAACC,GAEZF,IADAE,EAAEV,QAMT,EAOD,OALAW,EAAU,WAEN,OADAT,EAAIU,iBAAiB,SAAUH,GACxB,WAAA,OAASP,EAACW,oBAAoB,SAAUJ,EAAxC,CACV,EAAE,IAEIF,CACV"}