{"version":3,"file":"index.js","sources":["../src/index.ts"],"sourcesContent":["import {useEffect, useState, ReactNode} from \"react\";\r\n\r\ninterface MediaProps {\r\n    maxWidth?: number;\r\n    minWidth?: number;\r\n    minResolution?: `${number}ddpx` | number;\r\n    maxResolution?: `${number}ddpx` | number;\r\n    minHeight?: number;\r\n    maxHeight?: number;\r\n    orientation?: string;\r\n}\r\n\r\ntype Props = {\r\n    children: (data: boolean) => ReactNode | ReactNode;\r\n} & MediaProps\r\n\r\nconst keySwitcher = {\r\n    maxWidth: (maxWidth: number) => `(max-width: ${maxWidth}px)`,\r\n    minWidth: (minWidth: number) => `(min-width: ${minWidth}px)`,\r\n    minResolution: (minResolution: `${number}dppx` | number) => typeof minResolution === `number` ? `(min-resolution: ${minResolution}dppx)` : `(min-resolution: ${minResolution})`,\r\n    maxResolution: (maxResolution: `${number}dppx` | number) => typeof maxResolution === `number` ? `(max-resolution: ${maxResolution}ddpx)` : `(max-resolution: ${maxResolution})`,\r\n    minHeight: (minHeight: number) => `(min-height: ${minHeight}px)`,\r\n    maxHeight: (maxHeight: number) => `(max-height: ${maxHeight}px)`,\r\n    orientation: (orientation: string) => `(orientation: ${orientation})`\r\n} as any\r\n\r\nconst MediaQuery = ({children, ...setting}: Props) => {\r\n\r\n    const getQuery = Object.entries(setting).map(([key, value]) => { return  keySwitcher[key as keyof typeof keySwitcher](value) }).join(\" and \")\r\n\r\n    const matches = useMediaQuery({query: getQuery})\r\n\r\n    return typeof children === 'function' ? children(matches) : matches ? children : null\r\n}\r\nexport default MediaQuery\r\n\r\n\r\nexport const useMediaQuery = (media: {query: string}): boolean => {\r\n\r\n    const [value, setValue] = useState(() => {\r\n        const initialState = window.matchMedia(media.query).matches\r\n        return initialState\r\n    })\r\n\r\n    useEffect(() => {\r\n        const mql = window.matchMedia(media.query)\r\n\r\n        const screenTest = (e: MediaQueryListEvent): void => { setValue(e.matches) }\r\n\r\n        setValue(mql.matches)\r\n\r\n        mql.addEventListener('change', screenTest)\r\n        return () => { mql.removeEventListener('change', screenTest) }\r\n    }, [media.query])\r\n\r\n    return value\r\n}"],"names":["keySwitcher","maxWidth","minWidth","minResolution","maxResolution","minHeight","maxHeight","orientation","MediaQuery","children","setting","getQuery","Object","entries","map","key","value","join","matches","useMediaQuery","query","media","useState","initialState","window","matchMedia","setValue","useEffect","mql","screenTest","e","addEventListener","removeEventListener"],"mappings":"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"}